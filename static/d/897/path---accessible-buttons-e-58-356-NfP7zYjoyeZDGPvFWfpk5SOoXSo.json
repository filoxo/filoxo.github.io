{"data":{"mdx":{"html":"<div><p>It&#x27;s 2019 and I still see new code being written which uses non-interactive elements as buttons. Here&#x27;s some quick example code:</p><pre><code class=\"language-html\">&lt;div class=&quot;myBtn&quot;&gt;Do the thing&lt;/div&gt;\n\n&lt;script&gt;\nconst handleClick = (e) =&gt; {\n  console.log(&#x27;myBtn clicked&#x27;)\n}\nconst myBtn = document.querySelector(&#x27;.myBtn&#x27;)\nmyBtn.addEventListener(&#x27;click&#x27;, handleClick)\n&lt;/script&gt;\n</code></pre><small>Don&#x27;t get hung up on how the event is being bound; the principles would be the same if you were using jQuery, React, etc.</small><p>Let&#x27;s rehash why this is a problem. </p><h3>Keyboard Accessibility pt 1: Focus</h3><p>One problem with this non-button is that it cannot receive focus, and therefore cannot be navigated to with a keyboard. This means that there is no way to trigger it without using a mouse and clicking on the element. This can be done with the <code>tabindex</code> attribute. Setting this attribute to <code>0</code> simply adds the element to the tab order.  </p><pre><code class=\"language-html\">&lt;div class=&quot;myBtn&quot; tabindex=&quot;0&quot;&gt;Do the thing&lt;/div&gt;\n</code></pre><p>Now you can tab to this element with your keyboard, and see the keyboard outline when focused on it. </p><p><strong>HTML <code>button</code>s are focusable by default.</strong></p><h3>Keyboard Accessibility pt 2: Events</h3><p>Focusing on an element is only half of the keyboard navigation story. The element should also respond to <kbd>Enter</kbd> or <kbd>Space</kbd> key presses to trigger the same <code>&#x27;click&#x27;</code> event. This is a feature that HTML <code>buttons</code> can give you for free.</p><pre><code class=\"language-html\">&lt;div class=&quot;myBtn&quot; tabindex=&quot;0&quot;&gt;Do the thing&lt;/div&gt;\n\n&lt;script&gt;\nconst handleClick = (e) =&gt; {\n  console.log(&#x27;myBtn clicked&#x27;)\n}\nconst handleKeyboardClick = (fn) =&gt; {\n  return (e) =&gt; {\n    if(e.key === &#x27;Enter&#x27; || e.key === &#x27; &#x27;) {\n      return fn(e)\n    }\n  }\n}\nconst myBtn = document.querySelector(&#x27;.myBtn&#x27;)\nmyBtn.addEventListener(&#x27;click&#x27;, handleClick)\nmyBtn.addEventListener(&#x27;keydown&#x27;, handleKeyboardClick(handleClick))\n&lt;/script&gt;\n</code></pre><p>Take a look at the <code>handleKeyboardClick</code> function above. This is a small <a href=\"https://www.sitepoint.com/currying-in-functional-javascript/\">curried function</a> that accepts a function as a parameter (<code>fn</code>), and returns a function that will guard executing <code>fn</code> only if the event key is <code>&#x27;Enter&#x27;</code> or <code>&#x27; &#x27;</code> (Space). This helper can be reused to wrap any additional click handlers that we may need also need to bind later.</p><p>I&#x27;d like to note that this additional event binding isn&#x27;t necessary if using an HTML button. It will trigger click handlers when Enter or Space is pressed. </p><h3>Semantic HTML</h3><p>Now that we can reach the element with a keyboard, let&#x27;s switch to using another assistive device: a screenreader. A screenreader allows a non-visual user to be able to navigate and read the page content. So what happens when such a user navigates to our non-button? </p><p><a class=\"gatsby-resp-image-link\" href=\"/static/5f37a3863680f76fdec6f30d3eac7021/efdba/dothething-div-sr.png\" style=\"display:block\" target=\"_blank\" rel=\"noopener\"><span class=\"gatsby-resp-image-wrapper\" style=\"position:relative;display:block;max-width:590px;margin-left:auto;margin-right:auto\"><span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom:28.52512155591572%;position:relative;bottom:0px;left:0px;background-size:cover;display:block\"></span><img class=\"gatsby-resp-image-image\" style=\"width:100%;height:100%;margin:0px;vertical-align:middle;position:absolute;top:0px;left:0px;box-shadow:inset 0px 0px 0px 400px white\" alt=\"This screenshot shows that when focused on the non-button element, the screenreader only identifies only inner text of &#x27;Do the thing&#x27;.\" title=\"\" src=\"/static/5f37a3863680f76fdec6f30d3eac7021/ec4a5/dothething-div-sr.png\" srcSet=\"/static/5f37a3863680f76fdec6f30d3eac7021/f01f3/dothething-div-sr.png 148w,\n/static/5f37a3863680f76fdec6f30d3eac7021/d6acc/dothething-div-sr.png 295w,\n/static/5f37a3863680f76fdec6f30d3eac7021/ec4a5/dothething-div-sr.png 590w,\n/static/5f37a3863680f76fdec6f30d3eac7021/efdba/dothething-div-sr.png 617w\" sizes=\"(max-width: 590px) 100vw, 590px\"/></span></a></p><p>Let&#x27;s compare this with an actual button, which I&#x27;ve added underneath the non-button button. </p><p><a class=\"gatsby-resp-image-link\" href=\"/static/22413e165306dc2d3ba30944854cf1a4/79b0b/dothething-btn-sr.png\" style=\"display:block\" target=\"_blank\" rel=\"noopener\"><span class=\"gatsby-resp-image-wrapper\" style=\"position:relative;display:block;max-width:590px;margin-left:auto;margin-right:auto\"><span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom:28.431372549019606%;position:relative;bottom:0px;left:0px;background-size:cover;display:block\"></span><img class=\"gatsby-resp-image-image\" style=\"width:100%;height:100%;margin:0px;vertical-align:middle;position:absolute;top:0px;left:0px;box-shadow:inset 0px 0px 0px 400px white\" alt=\"In contrast, this screenshot shows that when the button is focused the screenreader identifies &#x27;Do the thing, button&#x27;.\" title=\"\" src=\"/static/22413e165306dc2d3ba30944854cf1a4/ec4a5/dothething-btn-sr.png\" srcSet=\"/static/22413e165306dc2d3ba30944854cf1a4/f01f3/dothething-btn-sr.png 148w,\n/static/22413e165306dc2d3ba30944854cf1a4/d6acc/dothething-btn-sr.png 295w,\n/static/22413e165306dc2d3ba30944854cf1a4/ec4a5/dothething-btn-sr.png 590w,\n/static/22413e165306dc2d3ba30944854cf1a4/79b0b/dothething-btn-sr.png 612w\" sizes=\"(max-width: 590px) 100vw, 590px\"/></span></a></p><p>It shouldn&#x27;t be any surprise to see that a div semantically doesn&#x27;t represent anything. It should also be noted that the CSS class name that we&#x27;re using to select this element offers nothing for assistive tech to identify. Also not surprising is that the HTML button is identfied as a button. </p><p>We can fix this by adding the correct aria-role attribute. If you haven&#x27;t yet read through the <a class=\"link\" href=\"https://www.w3.org/TR/wai-aria-practices-1.1/\">WAI-ARIA Authoring Practices</a> it is time you did. It outlines the following:</p><ul><li>If this control is a <em>push button</em>, it needs a <code>role=&quot;button&quot;</code> to designate it as an interactive button</li><li>if this control is a <em>toggle button</em>, it needs <code>role=&quot;button&quot;</code> and <code>aria-pressed</code> attributes, and <code>aria-pressed</code> is updated to reflect the current state of the control (eg. <code>aria-pressed=&quot;true&quot;</code>)</li></ul><pre><code class=\"language-html\">&lt;div class=&quot;myBtn&quot; tabindex=&quot;0&quot; role=&quot;button&quot;&gt;Do the thing&lt;/div&gt;\n&lt;!--- OR ---&gt;\n&lt;div class=&quot;myBtn&quot; tabindex=&quot;0&quot; role=&quot;button&quot; aria-pressed=&quot;false&quot;&gt;Do the thing&lt;/div&gt;\n\n&lt;script&gt;\nconst handleClick = (e) =&gt; {\n  console.log(&#x27;myBtn clicked&#x27;)\n  // Update aria-pressed for toggle buttons\n  const pressed = e.target.getAttribute(&#x27;aria-pressed&#x27;) === &#x27;true&#x27;\n  e.target.setAttribute(&#x27;aria-pressed&#x27;, pressed);\n}\nconst handleKeyboardClick = (fn) =&gt; {\n  return (e) =&gt; {\n    if(e.key === &#x27;Enter&#x27; || e.key === &#x27; &#x27;) {\n      return fn(e)\n    }\n  }\n}\nconst myBtn = document.querySelector(&#x27;.myBtn&#x27;)\nmyBtn.addEventListener(&#x27;click&#x27;, handleClick)\nmyBtn.addEventListener(&#x27;keydown&#x27;, handleKeyboardClick(handleClick))\n&lt;/script&gt;\n</code></pre><p><a href=\"https://developer.paciellogroup.com/blog/2011/04/html5-accessibility-chops-just-use-a-button/\">Just</a> <a href=\"https://www.youtube.com/watch?v=CZGqnp06DnI\">use</a> <a href=\"https://formidable.com/blog/2014/05/08/anchors-buttons-and-accessibility/\">a button</a>.</p></div>","frontmatter":{"title":"Accessible Buttons","date":"Oct 01, 2018","tags":["javascript","a11y"]}}},"pageContext":{"slug":"/accessible-buttons/"}}