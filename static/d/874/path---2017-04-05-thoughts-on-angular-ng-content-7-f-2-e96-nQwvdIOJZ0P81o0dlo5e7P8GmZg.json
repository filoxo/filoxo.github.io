{"data":{"mdx":{"html":"<div><p><a class=\"gatsby-resp-image-link\" href=\"/static/dc2c93139ddaf804036841d8b81506a3/78abb/bldg-angle.jpg\" style=\"display:block\" target=\"_blank\" rel=\"noopener\"><span class=\"gatsby-resp-image-wrapper\" style=\"position:relative;display:block;max-width:590px;margin-left:auto;margin-right:auto\"><span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom:33.33333333333333%;position:relative;bottom:0px;left:0px;background-size:cover;display:block\"></span><img class=\"gatsby-resp-image-image\" style=\"width:100%;height:100%;margin:0px;vertical-align:middle;position:absolute;top:0px;left:0px;box-shadow:inset 0px 0px 0px 400px white\" alt=\"Image of building angles\" title=\"\" src=\"/static/dc2c93139ddaf804036841d8b81506a3/a6d7d/bldg-angle.jpg\" srcSet=\"/static/dc2c93139ddaf804036841d8b81506a3/51d5b/bldg-angle.jpg 148w,\n/static/dc2c93139ddaf804036841d8b81506a3/9118c/bldg-angle.jpg 295w,\n/static/dc2c93139ddaf804036841d8b81506a3/a6d7d/bldg-angle.jpg 590w,\n/static/dc2c93139ddaf804036841d8b81506a3/ea746/bldg-angle.jpg 885w,\n/static/dc2c93139ddaf804036841d8b81506a3/9b641/bldg-angle.jpg 1180w,\n/static/dc2c93139ddaf804036841d8b81506a3/78abb/bldg-angle.jpg 1200w\" sizes=\"(max-width: 590px) 100vw, 590px\"/></span></a></p><p>I recently came across some interesting behavior with Angular&#x27;s <code>ng-content</code> that I wanted to jot down so I can search for some answers. NgContent isn&#x27;t well documented.</p><h3>Why isn&#x27;t <code>ng-content</code> self-closing?</h3><p><code>ng-content</code> is to be used like any other element. This is great, especially for rendering in default content. For example, a component that can transclude some content but if for some reason nothing is nested into it, it will show a default state.</p><pre><code>&lt;profile-card&gt;\n    &lt;ng-content&gt;\n        &lt;img src=&quot;/defaultProfile.jpg&quot;/&gt;\n        &lt;p&gt;Unknown&lt;/p&gt;\n    &lt;/ng-content&gt;\n&lt;/profile-card&gt;\n</code></pre><p>But what if you don&#x27;t need anything within the opening and closing tags? You&#x27;d think that just <code>&lt;ng-content /&gt;</code> would be a nice and simple way to signal where to place the included content, but attempting to do so generates the following error:</p><pre><code>Template parse errors: Only void and foreign elements can be self closed &quot;ng-content&quot;\n[ERROR -&gt;]&lt;ng-content /&gt;\n</code></pre><p>Seems weird to me. This may be by design.</p><h3>Select is only able to find immediate children?</h3><p>One of the features of <code>ng-content</code> is that you can use the <code>select</code> attribute on it to pull transcluded content into a specific location.</p><pre><code>&lt;!-- my-component.html --&gt;\n&lt;div&gt;\n    &lt;ng-content select=&quot;.title&quot;&gt;&lt;/ng-content&gt;\n    &lt;ng-content select=&quot;.subtitle&quot;&gt;&lt;/ng-content&gt;\n&lt;/div&gt;\n</code></pre><p>This is great for enforcing layout in a specific way. Except... it has a <strong>major</strong> caveat, at least in my opinion. This select only seems to match <em>immediate children only</em>, nothing else.</p><p>So using the above <code>my-component</code>, this belwo works while placing the <code>title</code> above the <code>subtitle</code>:</p><pre><code>&lt;my-component&gt;\n    &lt;p class=&quot;subtitle&quot;&gt;world&lt;/p&gt;\n    &lt;h2 class=&quot;title&quot;&gt;Hello&lt;/h2&gt;\n&lt;/my-component&gt;\n</code></pre><p>but then this doesn&#x27;t! Nothing is rendered.</p><pre><code>&lt;my-component&gt;\n    &lt;div&gt;\n        &lt;h2 class=&quot;title&quot;&gt;Hello&lt;/h2&gt;\n        &lt;p class=&quot;subtitle&quot;&gt;world&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/my-component&gt;\n</code></pre><p>It can&#x27;t find these same elements  because they&#x27;re wrapped in an extra div? I would have thought that it would match those elements as well, just like <code>querySelector</code> or CSS selectors would. If I only wanted immediate children I would have used something like <code>select=&quot;&gt; .title&quot;</code>. My assumption that it used standard selectors is wrong? ü§∑‚Äç‚ôÇÔ∏è That sucks.</p></div>","frontmatter":{"title":"Thoughts on Angular: Ng-Content","date":"Apr 05, 2017","tags":["angular"]}}},"pageContext":{"slug":"/2017-04-05-thoughts-on-angular-ng-content/"}}