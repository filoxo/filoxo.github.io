<!doctype html><html lang="en"><head><title data-react-helmet="true">Building a CSS framework using npm</title><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" name="generator" content="Phenomic 0.21.1"/><meta data-react-helmet="true" property="og:site_name" content="filoblog"/><meta data-react-helmet="true" name="twitter:site" content="@c_filoteo"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Building a CSS framework using npm"/><meta data-react-helmet="true" property="og:url" content="https://filoxo.github.io/posts/build-a-css-framework-using-npm/"/><meta data-react-helmet="true" property="og:image" content="https://filoxo.github.io/assets/leaves.jpg"/><meta data-react-helmet="true" property="og:description" content="This last weekend I wanted to create a simple CSS framework that I can reuse for my own little projects. The end result is Simple Style…"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Building a CSS framework using npm"/><meta data-react-helmet="true" name="twitter:creator" content="@c_filoteo"/><meta data-react-helmet="true" name="twitter:description" content="This last weekend I wanted to create a simple CSS framework that I can reuse for my own little projects. The end result is Simple Style…"/><meta data-react-helmet="true" name="twitter:image" content="https://filoxo.github.io/assets/leaves.jpg"/><meta data-react-helmet="true" name="description" content="This last weekend I wanted to create a simple CSS framework that I can reuse for my own little projects. The end result is Simple Style…"/><link rel="stylesheet" href="/phenomic.browser.4b24f5ff56450456ebf3.css"/><script data-react-helmet="true" src="https://cdn.polyfill.io/v2/polyfill.min.js"></script></head><body><div id="phenomic"><div class="_2Mf6m" data-reactroot="" data-reactid="1" data-react-checksum="-477814904"><div hidden="" data-reactid="2"><!-- react-empty: 3 --><!-- react-empty: 4 --><style data-reactid="5">@-ms-viewport { width: device-width; }</style></div><header class="_2gGRo" data-reactid="6"><nav class="_2frUm" data-reactid="7"><div class="_37D8R" data-reactid="8"><a class="Ezg15" href="/" data-reactid="9">Home</a></div><div class="_3VLYQ" data-reactid="10"><a href="https://twitter.com/c_filoteo" class="Ezg15" data-reactid="11"><span class="SVGInline SVGInline--cleaned" data-reactid="12"><svg class="SVGInline-svg SVGInline--cleaned-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 4.557a9.83 9.83 0 0 1-2.828.775 4.932 4.932 0 0 0 2.165-2.724 9.864 9.864 0 0 1-3.127 1.195 4.916 4.916 0 0 0-3.594-1.555c-3.18 0-5.515 2.966-4.797 6.045A13.978 13.978 0 0 1 1.67 3.15a4.93 4.93 0 0 0 1.524 6.573 4.903 4.903 0 0 1-2.23-.616c-.053 2.28 1.582 4.415 3.95 4.89a4.935 4.935 0 0 1-2.224.084 4.928 4.928 0 0 0 4.6 3.42A9.9 9.9 0 0 1 0 19.54a13.94 13.94 0 0 0 7.548 2.212c9.142 0 14.307-7.72 13.995-14.646A10.025 10.025 0 0 0 24 4.556z"/></svg></span><span class="sr-text" data-reactid="13">Twitter</span></a><a href="https://github.com/filoxo/" class="Ezg15" data-reactid="14"><span class="SVGInline SVGInline--cleaned" data-reactid="15"><svg class="SVGInline-svg SVGInline--cleaned-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.6.11.793-.26.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.09-.745.083-.73.083-.73 1.205.085 1.84 1.238 1.84 1.238 1.07 1.834 2.806 1.304 3.49.997.108-.776.42-1.306.763-1.605-2.665-.305-5.467-1.334-5.467-5.93 0-1.312.47-2.382 1.236-3.222-.125-.303-.536-1.524.116-3.176 0 0 1.008-.322 3.3 1.23A11.51 11.51 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.29-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.236 1.91 1.236 3.22 0 4.61-2.807 5.625-5.48 5.922.43.372.824 1.102.824 2.222v3.293c0 .32.192.694.8.576C20.567 21.796 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg></span><span class="sr-text" data-reactid="16">GitHub</span></a><a href="https://www.linkedin.com/in/carlosfiloteo" class="Ezg15" data-reactid="17"><span class="SVGInline SVGInline--cleaned" data-reactid="18"><svg class="SVGInline-svg SVGInline--cleaned-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"/></svg></span><span class="sr-text" data-reactid="19">LinkedIn</span></a></div></nav></header><div class="_116Tm" data-reactid="20"><div class="sFWsg" data-reactid="21"><!-- react-empty: 22 --><div class="_3p2ZP" style="background:#111 url(/assets/leaves.jpg) 50% 50% / cover;" data-reactid="23"><div class="_3wrxV" data-reactid="24"><div class="hOK0m" data-reactid="25"><h1 class="_1Tkeg" data-reactid="26">Building a CSS framework using npm</h1></div></div></div><div class="hOK0m _1z1n5" data-reactid="27"><div data-reactid="28"><header class="_2BJ2-" data-reactid="29"><time data-reactid="30">Mon Feb 13 2017</time></header></div><div class="_30RKo" data-reactid="31"><div class="phenomic-BodyContainer" data-reactid="32"><p>This last weekend I wanted to create a simple CSS framework that I can reuse for my own little projects. The end result is <a href="https://github.com/filoxo/simple-style">Simple Style</a> (which is still a WIP as requirements come up). Surprisingly, using <a href="https://medium.com/@dabit3/introduction-to-using-npm-as-a-build-tool-b41076f488b0#.5w4loc8uy">npm as a build tool</a> made it extremely easy to set up a dev environment. I'll review everything about the setup in this post for my own documentation, but hopefully can also serve as a clean, straightforward example.</p>
<p>I used <a href="https://yarnpkg.com/en/"><code>yarn</code></a> for this experiment instead of <code>npm</code> solely for the speed improvements. Fortunately, <code>yarn</code>'s commands all have their <code>npm</code> equivalents so don't get hung up on the differences.</p>
<p>This basic setup offers:</p>
<ul>
<li>Autoprefixing to support the 2 latest browsers</li>
<li>Future CSS syntax usable today</li>
<li>minification</li>
<li>optimizations</li>
<li>a quick and easy development setup to reflect changes on-the-fly</li>
</ul>
<h3 id="dev-dependencies"><a href="#dev-dependencies" class="phenomic-HeadingAnchor">#</a>Dev dependencies</h3>
<p>Here are our initial development dependencies:</p>
<ul>
<li><a href="https://necolas.github.io/normalize.css/">normalize.css</a>: so that all elements render consistently</li>
<li><a href="https://github.com/postcss/postcss">PostCSS</a>'s CLI: to leverage its ecosystem of feature plugins</li>
<li><a href="http://cssnext.io/">CSSnext</a>: a PostCSS plugin that helps you to use the latest CSS syntax today. This way the code will be a little more future-proof. Additionally, CSSnext also includes <a href="https://github.com/postcss/autoprefixer">Autoprefixer</a> as a dependency.</li>
<li><code>postcss-import</code>: used to pull in a css file that wasn't being preprocessed</li>
<li><code>cssnano</code>: minify and optimize output</li>
</ul>
<p>Install using yarn (or the npm equivalent)</p>
<pre><code>yarn add -D normalize.css postcss-cli postcss-cssnext postcss-import cssnano
</code></pre>
<h3 id="postcss-config"><a href="#postcss-config" class="phenomic-HeadingAnchor">#</a>PostCSS config</h3>
<p>Create a json file that contains the config for PostCSS. The docs named it <strong>options.json</strong> but I choose <strong>postcss.json</strong> for better clarity. The comments below explain some keys.</p>
<pre><code>{
    // Enable plugins in order
    "use": [
        "postcss-import",
        "postcss-cssnext",
        "cssnano"
    ],
    "input": "main.css",
    "output": "dist/main.css",
    // use locally installed plugins (eg. in node_modules)
    "local-plugins": true,
    // Enable sourcemaps
    "map": true,
    // CSSnext and cssnano both use autoprefixer, but for different features/purposes
    // see https://github.com/MoOx/postcss-cssnext/issues/323
    "postcss-cssnext": {
        "warnForDuplicates": false
    }
}
</code></pre>
<h3 id="css-time"><a href="#css-time" class="phenomic-HeadingAnchor">#</a>CSS time</h3>
<p>Go ahead and create <strong>main.css</strong> at the project root. The above config will output to <strong>dist/</strong>. Here's a quick sample to put into the file for now.</p>
<pre><code>@import('normalize.css');

:root {
    --color-primary: blue;
    --color-secondary: red;
}
</code></pre>
<h3 id="building"><a href="#building" class="phenomic-HeadingAnchor">#</a>Building</h3>
<p>Use the postcss-cli with the config file passed in as an arg and save it as an npm script.</p>
<pre><code>"scripts": {
    "build": "node_modules/postcss-cli/bin/postcss -c postcss.json"
}
</code></pre>
<p>Now you can simply run <code>yarn run build</code> and your css will be processed and output to <strong>dist</strong>. But we can still do better.</p>
<h3 id="watch-for-changes"><a href="#watch-for-changes" class="phenomic-HeadingAnchor">#</a>Watch for changes</h3>
<p>Enabling watch will auto-transform the css file on changes. Add another npm script, which is exactly the same as <code>build</code> but with the watch flag.</p>
<pre><code>"build:dev": "node_modules/postcss-cli/bin/postcss -c postcss.json -w"
</code></pre>
<h3 id="livereload"><a href="#livereload" class="phenomic-HeadingAnchor">#</a>Livereload</h3>
<p>You wouldn't develop a CSS framework without seeing it rendered on a page so let's create a test page for development. Create <strong>index.html</strong> at the project root and populate it with some HTML, and add a link to your <strong>main.css</strong> file.</p>
<pre><code>&#x3C;!doctype html>
&#x3C;html lang="en-US">
    &#x3C;head>
        &#x3C;link rel="stylesheet" href="/dist/main.css">
    &#x3C;/head>
    &#x3C;body>
        &#x3C;main>Hello world&#x3C;/main>
    &#x3C;/body>
&#x3C;/html>
</code></pre>
<p><a href="https://www.npmjs.com/package/lr-http-server"><code>lr-http-server</code></a> will reload on changes, as well as a functioning http server.</p>
<pre><code>yarn add -D lr-http-server
</code></pre>
<p>And then register a new npm script for it</p>
<pre><code>"reload": "lr-http-server -p 3000"
</code></pre>
<h3 id="composing-scripts"><a href="#composing-scripts" class="phenomic-HeadingAnchor">#</a>Composing scripts</h3>
<p>We want the two above scripts to run in parallel so that if either the css or the html file changes the livereload server will do its job. <a href="https://www.npmjs.com/package/npm-run-all"><code>npm-run-all</code></a> with the <code>-p</code> (parallel) flag does this exactly.</p>
<pre><code>yarn add -D npm-run-all
</code></pre>
<p>Join the two tasks together into a single npm script</p>
<pre><code>"start": "npm-run-all -p build:dev reload"
</code></pre>
<p>And then run easily with</p>
<pre><code>yarn start
</code></pre>
<h3 id="done"><a href="#done" class="phenomic-HeadingAnchor">#</a>Done!</h3>
<p>You're ready to keep going developing your styles inside <strong>main.css</strong>. Feel free to improve upon this as needed!</p>
</div></div><hr data-reactid="33"/><div data-reactid="34"><h2 class="_1vSY4" data-reactid="35">Latest Posts</h2><div data-reactid="36"><ul class="lfRQE" data-reactid="37"><li data-reactid="38"><article class="_1eeKI" data-reactid="39"><a class="_2mH_g" href="/posts/practical-thoughts-on-react-and-angular/" data-reactid="40">Practical thoughts on React and Angular</a><div class="_2l2N1" data-reactid="41"><time data-reactid="42">Tue May 30 2017</time></div><p class="_1-sEy" data-reactid="43"><!-- react-text: 44 -->I sometimes see developers ask &quot;Should I use React, or Angular, or Vue.js, or \[insert new framework here]?&quot; and every time, I see fanatics…<!-- /react-text --><!-- react-text: 45 --> <!-- /react-text --></p><div data-reactid="46"><a class="niUXw _1mmZb" href="/posts/practical-thoughts-on-react-and-angular/" data-reactid="47">Read More →</a></div></article></li><li data-reactid="48"><article class="_1eeKI" data-reactid="49"><a class="_2mH_g" href="/posts/thoughts-on-angular-ngcontent/" data-reactid="50">Thoughts on Angular: Ng-Content</a><div class="_2l2N1" data-reactid="51"><time data-reactid="52">Tue Apr 04 2017</time></div><p class="_1-sEy" data-reactid="53"><!-- react-text: 54 -->I recently came across some interesting behavior with Angular&#x27;s ng-content that I wanted to jot down so I can search for some answers.…<!-- /react-text --><!-- react-text: 55 --> <!-- /react-text --></p><div data-reactid="56"><a class="niUXw _1mmZb" href="/posts/thoughts-on-angular-ngcontent/" data-reactid="57">Read More →</a></div></article></li><li data-reactid="58"><article class="_1eeKI" data-reactid="59"><a class="_2mH_g" href="/posts/build-a-css-framework-using-npm/" data-reactid="60">Building a CSS framework using npm</a><div class="_2l2N1" data-reactid="61"><time data-reactid="62">Mon Feb 13 2017</time></div><p class="_1-sEy" data-reactid="63"><!-- react-text: 64 -->This last weekend I wanted to create a simple CSS framework that I can reuse for my own little projects. The end result is Simple Style…<!-- /react-text --><!-- react-text: 65 --> <!-- /react-text --></p><div data-reactid="66"><a class="niUXw _1mmZb" href="/posts/build-a-css-framework-using-npm/" data-reactid="67">Read More →</a></div></article></li><li data-reactid="68"><article class="_1eeKI" data-reactid="69"><a class="_2mH_g" href="/posts/an-angular-modal/" data-reactid="70">An Angular Modal</a><div class="_2l2N1" data-reactid="71"><time data-reactid="72">Mon Feb 13 2017</time></div><p class="_1-sEy" data-reactid="73"><!-- react-text: 74 -->This post is just an exercise in creating a modal in Angular (~2 at the time of this writing). Hopefully it can shed light on some of the…<!-- /react-text --><!-- react-text: 75 --> <!-- /react-text --></p><div data-reactid="76"><a class="niUXw _1mmZb" href="/posts/an-angular-modal/" data-reactid="77">Read More →</a></div></article></li><li data-reactid="78"><article class="_1eeKI" data-reactid="79"><a class="_2mH_g" href="/posts/crossplatform-revisited/" data-reactid="80">Cross-platform Revisited</a><div class="_2l2N1" data-reactid="81"><time data-reactid="82">Sat Feb 04 2017</time></div><p class="_1-sEy" data-reactid="83"><!-- react-text: 84 -->Time has passed, technology has improved, and my preferences have also changed. In this post I&#x27;ll revisit my choice of tooling.  Password…<!-- /react-text --><!-- react-text: 85 --> <!-- /react-text --></p><div data-reactid="86"><a class="niUXw _1mmZb" href="/posts/crossplatform-revisited/" data-reactid="87">Read More →</a></div></article></li><li data-reactid="88"><article class="_1eeKI" data-reactid="89"><a class="_2mH_g" href="/posts/recommended-resources/" data-reactid="90">Recommended Resources</a><div class="_2l2N1" data-reactid="91"><time data-reactid="92">Wed Sep 21 2016</time></div><p class="_1-sEy" data-reactid="93"><!-- react-text: 94 -->There are lots of great resources out there for the front-end developer who wants to keep learning. I know that I&#x27;ve been able to glean…<!-- /react-text --><!-- react-text: 95 --> <!-- /react-text --></p><div data-reactid="96"><a class="niUXw _1mmZb" href="/posts/recommended-resources/" data-reactid="97">Read More →</a></div></article></li></ul></div></div></div></div></div><footer class="_1Ustb" data-reactid="98"><p class="_21LuU" data-reactid="99"><!-- react-text: 100 -->© <!-- /react-text --><!-- react-text: 101 -->2017<!-- /react-text --><!-- react-text: 102 --> | <!-- /react-text --><!-- react-text: 103 -->Made with <!-- /react-text --><a href="https://phenomic.io" data-reactid="104"><span class="MMp-P" data-reactid="105">&lt;Phenomic /&gt;</span></a></p></footer></div></div><script>window.__COLLECTION__ = [{"layout":"PageError","route":"404.html","description":"","__filename":"404.md","__url":"/404.html","__resourceUrl":"/404.html","__dataUrl":"/404.html.7f6093458561a2a9bb2178ef2cba0f0f.json"},{"title":"About me","hero":"https://farm4.staticflickr.com/3949/15589950511_3675b15e59_k.jpg","cta":{"label":"Discover Phenomic now","link":"https://phenomic.io/","props":{"big":true}},"description":"","__filename":"about.md","__url":"/about/","__resourceUrl":"/about/index.html","__dataUrl":"/about/index.html.0721531ea21302c88bfbcfd666bc9bb3.json"},{"title":"Filoblog","layout":"Homepage","hero":"../assets/main.jpg","description":"Hi, welcome to Filoblog. This is the place where I share some of my thoughts, advice, and ideas. Enjoy!","__filename":"index.md","__url":"/","__resourceUrl":"/index.html","__dataUrl":"/index.html.f6dcd63a5f63b584e22084408babae89.json"},{"title":"Firebase Email Auth and Validation","date":"2016-07-28T00:00:00.000Z","layout":"Post","tags":"firebase","description":"If you use Firebase, you'd be inclined to use their authentication for you system because of how amazingly easy it is to get started. They…","__filename":"posts/Firebase-Email-Auth-and-Validation.md","__url":"/posts/Firebase-Email-Auth-and-Validation/","__resourceUrl":"/posts/Firebase-Email-Auth-and-Validation/index.html","__dataUrl":"/posts/Firebase-Email-Auth-and-Validation/index.html.caa095b576bec965814b60e85ddd2bfa.json"},{"title":"Install zsh on Mac without homebrew","date":"2016-07-28T00:00:00.000Z","layout":"Post","tags":"mac","description":"I'm not a big supporter of Homebrew. It just doesn't solve any problems for me. I have only needed brew for zsh and maybe node (but for…","__filename":"posts/Install-zsh-on-Mac-without-homebrew.md","__url":"/posts/Install-zsh-on-Mac-without-homebrew/","__resourceUrl":"/posts/Install-zsh-on-Mac-without-homebrew/index.html","__dataUrl":"/posts/Install-zsh-on-Mac-without-homebrew/index.html.a260797a8dbf85fe07f9680de973da4b.json"},{"title":"Must-have Apps: Cross-platform edition","date":"2016-07-28T00:00:00.000Z","layout":"Post","description":"I believe that developers can benefit and learn from others' favorite suite of tools. I'll go over my favorite applications that help me be…","__filename":"posts/Must-have-Apps-Cross-platform-edition.md","__url":"/posts/Must-have-Apps-Cross-platform-edition/","__resourceUrl":"/posts/Must-have-Apps-Cross-platform-edition/index.html","__dataUrl":"/posts/Must-have-Apps-Cross-platform-edition/index.html.33012d63a783640ad0ed8271b9e4edd3.json"},{"title":"Must-have Apps: Mac edition","date":"2016-07-28T00:00:00.000Z","layout":"Post","description":"I believe that developers can benefit and learn from others' favorite suite of tools. I'll go over my favorite applications that help me be…","__filename":"posts/Must-have-Apps-Mac-edition.md","__url":"/posts/Must-have-Apps-Mac-edition/","__resourceUrl":"/posts/Must-have-Apps-Mac-edition/index.html","__dataUrl":"/posts/Must-have-Apps-Mac-edition/index.html.ef1f26835b5483a30b7a9c40c68597b3.json"},{"title":"Must-have Apps: Windows edition","date":"2016-07-28T00:00:00.000Z","layout":"Post","description":"I believe that developers can benefit and learn from others' favorite suite of tools. I'll go over my favorite applications that help me be…","__filename":"posts/Must-have-Apps-Windows-edition.md","__url":"/posts/Must-have-Apps-Windows-edition/","__resourceUrl":"/posts/Must-have-Apps-Windows-edition/index.html","__dataUrl":"/posts/Must-have-Apps-Windows-edition/index.html.787a0bb65a0d04e2c3423e640535417f.json"},{"title":"An Angular Modal","date":"2017-02-14T00:00:00.000Z","layout":"Post","hero":"/assets/bldg.jpg","description":"This post is just an exercise in creating a modal in Angular (~2 at the time of this writing). Hopefully it can shed light on some of the…","__filename":"posts/an-angular-modal.md","__url":"/posts/an-angular-modal/","__resourceUrl":"/posts/an-angular-modal/index.html","__dataUrl":"/posts/an-angular-modal/index.html.db587ebb29145abc17911dd957e609fe.json"},{"title":"Building a CSS framework using npm","date":"2017-02-14T00:00:00.000Z","layout":"Post","hero":"/assets/leaves.jpg","description":"This last weekend I wanted to create a simple CSS framework that I can reuse for my own little projects. The end result is Simple Style…","__filename":"posts/build-a-css-framework-using-npm.md","__url":"/posts/build-a-css-framework-using-npm/","__resourceUrl":"/posts/build-a-css-framework-using-npm/index.html","__dataUrl":"/posts/build-a-css-framework-using-npm/index.html.a37512e30431d8f96cd8da836c6a4509.json"},{"title":"Cross-platform Revisited","date":"2017-02-05T00:00:00.000Z","layout":"Post","hero":"/assets/crossplatform.jpg","description":"Time has passed, technology has improved, and my preferences have also changed. In this post I'll revisit my choice of tooling.  Password…","__filename":"posts/crossplatform-revisited.md","__url":"/posts/crossplatform-revisited/","__resourceUrl":"/posts/crossplatform-revisited/index.html","__dataUrl":"/posts/crossplatform-revisited/index.html.17712f2010b1d91e60885f92707a49f8.json"},{"title":"First Post, no hero.","date":"2016-01-22T00:00:00.000Z","layout":"Post","description":"This is the first post! Code is highlighted by default.","__filename":"posts/first-post.md","__url":"/posts/first-post/","__resourceUrl":"/posts/first-post/index.html","__dataUrl":"/posts/first-post/index.html.4a901bdda70903f928f491360ea7c01b.json"},{"title":"Welcome back to the future of static website!","date":"2016-02-14T00:00:00.000Z","layout":"Post","hero":"https://farm8.staticflickr.com/7479/15669216853_aa8e70eae1_o.jpg","description":"Ahh. Hey, Doc, we better back up, we don't have enough roads to get up to 88. Hi. Where were we. In that case, I'll tell you strait out.…","__filename":"posts/hello-world.md","__url":"/posts/hello-world/","__resourceUrl":"/posts/hello-world/index.html","__dataUrl":"/posts/hello-world/index.html.f447e4f06503aa291673225c18787760.json"},{"title":"Practical thoughts on React and Angular","date":"2017-05-31T00:00:00.000Z","layout":"Post","hero":"/assets/oil-in-water.jpg","description":"I sometimes see developers ask \"Should I use React, or Angular, or Vue.js, or \\[insert new framework here]?\" and every time, I see fanatics…","__filename":"posts/practical-thoughts-on-react-and-angular.md","__url":"/posts/practical-thoughts-on-react-and-angular/","__resourceUrl":"/posts/practical-thoughts-on-react-and-angular/index.html","__dataUrl":"/posts/practical-thoughts-on-react-and-angular/index.html.fc85c9ba0b3f393421c6f17d0312b710.json"},{"title":"Recommended Resources","date":"2016-09-22T00:00:00.000Z","layout":"Post","tags":"javascript","description":"There are lots of great resources out there for the front-end developer who wants to keep learning. I know that I've been able to glean…","__filename":"posts/recommended-resources.md","__url":"/posts/recommended-resources/","__resourceUrl":"/posts/recommended-resources/index.html","__dataUrl":"/posts/recommended-resources/index.html.7458e78c1ce0ab648bf95fe26d71a6b1.json"},{"title":"Thoughts on Angular: Ng-Content","date":"2017-04-05T00:00:00.000Z","layout":"Post","hero":"/assets/bldg-angle.jpg","description":"I recently came across some interesting behavior with Angular's ng-content that I wanted to jot down so I can search for some answers.…","__filename":"posts/thoughts-on-angular-ngcontent.md","__url":"/posts/thoughts-on-angular-ngcontent/","__resourceUrl":"/posts/thoughts-on-angular-ngcontent/index.html","__dataUrl":"/posts/thoughts-on-angular-ngcontent/index.html.e9f251e5c0a82502d5643cc1663f08a5.json"}];window.__INITIAL_STATE__ = {"pages":{"/posts/build-a-css-framework-using-npm/":{"head":{"title":"Building a CSS framework using npm","date":"2017-02-14T00:00:00.000Z","layout":"Post","hero":"/assets/leaves.jpg","description":"This last weekend I wanted to create a simple CSS framework that I can reuse for my own little projects. The end result is Simple Style…"},"body":"<p>This last weekend I wanted to create a simple CSS framework that I can reuse for my own little projects. The end result is <a href=\"https://github.com/filoxo/simple-style\">Simple Style</a> (which is still a WIP as requirements come up). Surprisingly, using <a href=\"https://medium.com/@dabit3/introduction-to-using-npm-as-a-build-tool-b41076f488b0#.5w4loc8uy\">npm as a build tool</a> made it extremely easy to set up a dev environment. I'll review everything about the setup in this post for my own documentation, but hopefully can also serve as a clean, straightforward example.</p>\n<p>I used <a href=\"https://yarnpkg.com/en/\"><code>yarn</code></a> for this experiment instead of <code>npm</code> solely for the speed improvements. Fortunately, <code>yarn</code>'s commands all have their <code>npm</code> equivalents so don't get hung up on the differences.</p>\n<p>This basic setup offers:</p>\n<ul>\n<li>Autoprefixing to support the 2 latest browsers</li>\n<li>Future CSS syntax usable today</li>\n<li>minification</li>\n<li>optimizations</li>\n<li>a quick and easy development setup to reflect changes on-the-fly</li>\n</ul>\n<h3 id=\"dev-dependencies\"><a href=\"#dev-dependencies\" class=\"phenomic-HeadingAnchor\">#</a>Dev dependencies</h3>\n<p>Here are our initial development dependencies:</p>\n<ul>\n<li><a href=\"https://necolas.github.io/normalize.css/\">normalize.css</a>: so that all elements render consistently</li>\n<li><a href=\"https://github.com/postcss/postcss\">PostCSS</a>'s CLI: to leverage its ecosystem of feature plugins</li>\n<li><a href=\"http://cssnext.io/\">CSSnext</a>: a PostCSS plugin that helps you to use the latest CSS syntax today. This way the code will be a little more future-proof. Additionally, CSSnext also includes <a href=\"https://github.com/postcss/autoprefixer\">Autoprefixer</a> as a dependency.</li>\n<li><code>postcss-import</code>: used to pull in a css file that wasn't being preprocessed</li>\n<li><code>cssnano</code>: minify and optimize output</li>\n</ul>\n<p>Install using yarn (or the npm equivalent)</p>\n<pre><code>yarn add -D normalize.css postcss-cli postcss-cssnext postcss-import cssnano\n</code></pre>\n<h3 id=\"postcss-config\"><a href=\"#postcss-config\" class=\"phenomic-HeadingAnchor\">#</a>PostCSS config</h3>\n<p>Create a json file that contains the config for PostCSS. The docs named it <strong>options.json</strong> but I choose <strong>postcss.json</strong> for better clarity. The comments below explain some keys.</p>\n<pre><code>{\n    // Enable plugins in order\n    \"use\": [\n        \"postcss-import\",\n        \"postcss-cssnext\",\n        \"cssnano\"\n    ],\n    \"input\": \"main.css\",\n    \"output\": \"dist/main.css\",\n    // use locally installed plugins (eg. in node_modules)\n    \"local-plugins\": true,\n    // Enable sourcemaps\n    \"map\": true,\n    // CSSnext and cssnano both use autoprefixer, but for different features/purposes\n    // see https://github.com/MoOx/postcss-cssnext/issues/323\n    \"postcss-cssnext\": {\n        \"warnForDuplicates\": false\n    }\n}\n</code></pre>\n<h3 id=\"css-time\"><a href=\"#css-time\" class=\"phenomic-HeadingAnchor\">#</a>CSS time</h3>\n<p>Go ahead and create <strong>main.css</strong> at the project root. The above config will output to <strong>dist/</strong>. Here's a quick sample to put into the file for now.</p>\n<pre><code>@import('normalize.css');\n\n:root {\n    --color-primary: blue;\n    --color-secondary: red;\n}\n</code></pre>\n<h3 id=\"building\"><a href=\"#building\" class=\"phenomic-HeadingAnchor\">#</a>Building</h3>\n<p>Use the postcss-cli with the config file passed in as an arg and save it as an npm script.</p>\n<pre><code>\"scripts\": {\n    \"build\": \"node_modules/postcss-cli/bin/postcss -c postcss.json\"\n}\n</code></pre>\n<p>Now you can simply run <code>yarn run build</code> and your css will be processed and output to <strong>dist</strong>. But we can still do better.</p>\n<h3 id=\"watch-for-changes\"><a href=\"#watch-for-changes\" class=\"phenomic-HeadingAnchor\">#</a>Watch for changes</h3>\n<p>Enabling watch will auto-transform the css file on changes. Add another npm script, which is exactly the same as <code>build</code> but with the watch flag.</p>\n<pre><code>\"build:dev\": \"node_modules/postcss-cli/bin/postcss -c postcss.json -w\"\n</code></pre>\n<h3 id=\"livereload\"><a href=\"#livereload\" class=\"phenomic-HeadingAnchor\">#</a>Livereload</h3>\n<p>You wouldn't develop a CSS framework without seeing it rendered on a page so let's create a test page for development. Create <strong>index.html</strong> at the project root and populate it with some HTML, and add a link to your <strong>main.css</strong> file.</p>\n<pre><code>&#x3C;!doctype html>\n&#x3C;html lang=\"en-US\">\n    &#x3C;head>\n        &#x3C;link rel=\"stylesheet\" href=\"/dist/main.css\">\n    &#x3C;/head>\n    &#x3C;body>\n        &#x3C;main>Hello world&#x3C;/main>\n    &#x3C;/body>\n&#x3C;/html>\n</code></pre>\n<p><a href=\"https://www.npmjs.com/package/lr-http-server\"><code>lr-http-server</code></a> will reload on changes, as well as a functioning http server.</p>\n<pre><code>yarn add -D lr-http-server\n</code></pre>\n<p>And then register a new npm script for it</p>\n<pre><code>\"reload\": \"lr-http-server -p 3000\"\n</code></pre>\n<h3 id=\"composing-scripts\"><a href=\"#composing-scripts\" class=\"phenomic-HeadingAnchor\">#</a>Composing scripts</h3>\n<p>We want the two above scripts to run in parallel so that if either the css or the html file changes the livereload server will do its job. <a href=\"https://www.npmjs.com/package/npm-run-all\"><code>npm-run-all</code></a> with the <code>-p</code> (parallel) flag does this exactly.</p>\n<pre><code>yarn add -D npm-run-all\n</code></pre>\n<p>Join the two tasks together into a single npm script</p>\n<pre><code>\"start\": \"npm-run-all -p build:dev reload\"\n</code></pre>\n<p>And then run easily with</p>\n<pre><code>yarn start\n</code></pre>\n<h3 id=\"done\"><a href=\"#done\" class=\"phenomic-HeadingAnchor\">#</a>Done!</h3>\n<p>You're ready to keep going developing your styles inside <strong>main.css</strong>. Feel free to improve upon this as needed!</p>\n","__filename":"posts/build-a-css-framework-using-npm.md","__url":"/posts/build-a-css-framework-using-npm/","__resourceUrl":"/posts/build-a-css-framework-using-npm/index.html","__dataUrl":"/posts/build-a-css-framework-using-npm/index.html.a37512e30431d8f96cd8da836c6a4509.json","type":"Post"}}}</script><script src="/phenomic.browser.4b24f5ff56450456ebf3.js"></script></body></html>