<!DOCTYPE html>
<html class="antialiased" lang="en">
  <head>



<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta http-equiv="X-UA-Compatible" content="ie=edge"/>
<title>Building my first handwired keyboard - Filoblog</title>
<link rel="canonical" href="https://filoxo.github.io/posts/building-my-first-handwired-keyboard/"/>
<meta property="og:site_name" content="Filoblog"/>
<meta property="og:title" content="Building my first handwired keyboard - Filoblog"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://filoxo.github.io/posts/building-my-first-handwired-keyboard/"/>


<link rel="icon" href="/favicon.svg" type="image/svg+xml"/>
<link rel="alternate icon" href="/favicon.ico" type="image/png" sizes="48x48"/>
<link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="192x192"/>
<link rel="mask-icon" href="/favicon.svg" color="#4a5568"/>
<meta name="theme-color" content="#4a5568"/>
<!-- https://www.filamentgroup.com/lab/load-css-simpler/ -->
<link
  crossorigin="anonymous"
  rel="stylesheet"
  href="/styles/style.css"
  media="print"
  onload="this.media='all'; this.onload=null;"/>
<link
  crossorigin="anonymous"
  rel="stylesheet"
  href="/styles/code.css"
  media="print"
  onload="this.media='all'; this.onload=null;"/>
<script type="module" src="/static/main.js" defer></script></head>
  <body class="bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100"><header class="mx-auto mt-2 mb-8 max-w-2xl px-3 md:px-6">
  <nav class="my-0 mx-auto flex max-w-2xl flex-wrap items-center justify-between">
    <h1 class="text-2xl font-semibold tracking-wide">
      <a class="uppercase transition-colors duration-300 ease-in-out hover:text-red-600" href="/">
        Filoblog
      </a>
    </h1>
    
    <ul class="m-0 flex items-center">
      <li>
        <a
          href="https://twitter.com/cfiloteo12"
          rel="noopener noreferrer"
          target="_blank"
          class="inline-flex p-2 transition-colors duration-300 ease-in-out hover:text-red-600">
          <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
            <path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452
              0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568
              130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3
              27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431
              13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365
              109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137
              23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122
              60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
          </svg>
          <span class="sr-only">Follow me as @cfiloteo12 on Twitter</span>
        </a>
      </li>
      <li>
        <a
          href="https://github.com/filoxo"
          class="inline-flex p-2 transition-colors duration-300 ease-in-out hover:text-red-600">
          <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 480 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
            <path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0
              31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9
              13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10
              27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3
              39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2
              0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4
              150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path>
          </svg>
          <span class="sr-only">I'm @filoxo on Github</span>
        </a>
      </li>
      <li>
        <a
          href="https://www.linkedin.com/in/carlosfiloteo/"
          class="inline-flex p-2 transition-colors duration-300 ease-in-out hover:text-red-600">
          <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
            <path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5
              32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2
              96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9
              27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path>
          </svg>
          <span class="sr-only">Let's connect on LinkedIn</span>
        </a>
      </li>
      <li>
        <div><label class="inline-flex relative items-center cursor-pointer mt-2 ml-2">
  <input type="checkbox" class="sr-only peer" aria-label="Toggle site theme" id="theme-toggle">
    <div class="w-9 h-5 bg-gray-800 rounded-full peer peer-focus:ring-4 peer-focus:ring-red-300 dark:peer-focus:ring-red-800
      dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute
      after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4
      after:transition-all dark:border-gray-600 peer-checked:bg-red-600"></div>
  </label></div>
      </li>
    </ul>
  </nav>
</header><div class="my-0 mx-auto max-w-2xl px-3 md:px-6">
      <div><article class="mb-12">
  <h1 class="mb-4 text-2xl text-red-600">Building my first handwired keyboard</h1>
  <p class="mb-4 text-red-600">12 Feb 2018</p>
  <div class="space-y-6">
    <div class="prose prose-headings:text-2xl prose-headings:font-normal prose-a:text-red-500 prose-code:rounded-sm prose-code:bg-gray-200 prose-code:px-1 prose-code:text-black prose-img:rounded-xl dark:prose-invert">
      <p>I recently finished my first handwired Atreus keyboard, an ortholinear keyboard with 42 keys. I'm really happy with how it turned out and I'm just documenting how it went for me, as well as some reference for my future builds.  I'm proud of how it turned out and excited to do another soon!</p>
<h3 id="final-product"><a class="permalink" href="#final-product" aria-hidden="true">ðŸ”—</a> Final product</h3>
<p><img src="final.jpg" alt=""></p>
<p>This is a cross-section of both top and bottom of the keyboard. The bottom is clear acrylic so I can show off my handiwork!</p>
<p>I researched the hell out of this thing before starting, because I practically knew nothing about the circuitry of how a keyboard matrix worked. The biggest hurdle was knowing the software well enough to enable the hardware. I was lucky in that the <a href="https://atreus.technomancy.us/assembly-hand-wired.pdf">Atreus hand wire guide</a> is pretty comprehensive, as well as relying on great resources like this <a href="https://imgur.com/a/qcgdF">&quot;Modern handwiring guide&quot;</a>. I already knew a fair amount about pro micros from previous builds (I've built 4 other keyboards but with PCBs) so that gave me lots of information about its limitations and where stuff goes; as well as with experience with <a href="https://github.com/qmk/qmk_firmware">QMK</a>. There are plenty of awesome and active people on the QMK Gitter if you get stuck with the firmware. I also had plenty of help from the great people in the <a href="https://discord.gg/tjjT8J">UTMK discord</a> (which welcomes anyone really) regarding the hardware aspect of my build.</p>
<h3 id="build-in-review"><a class="permalink" href="#build-in-review" aria-hidden="true">ðŸ”—</a> Build in review</h3>
<p><img src="1.jpg" alt=""></p>
<p>The case is laser cut from Â¼&quot; plywood. A friend sold it to me after finding that it wouldn't work for his Atreus PCB. Here I'm putting in the switches; the black ones are Gateron Clears, the whites are Kalih Pro Purples.</p>
<p><img src="2.jpg" alt=""></p>
<p>Hot glued the switches in. If I could go back, I would have added the keycaps to the switches so that I could rotate them to better rotate/align them with one another before gluing them down. Lesson learned.</p>
<p><img src="3.jpg" alt=""></p>
<p>Diodes all added. Many guides recommend using loops so I did. This technique works <em>really</em> well. In some other builds, the downward facing leg of the diode is simply bent and soldered to the adjacent diode; I instead connected them to a row wire (blue) which ends up looking much more polished in my opinion.</p>
<p><img src="4.jpg" alt=""></p>
<p>Close up of diodes. If you look closely, the diode on the white switch is reversed... didn't find this error until after everything else was all put together.</p>
<p><img src="5.jpg" alt=""></p>
<p>Single row wire just before soldering.</p>
<p><img src="6.jpg" alt=""></p>
<p>Row wires connected. Use solid core wire and things will be <em>much</em> easier for you. I used stranded wire from an ethernet cable, and had to redo them a couple of times since I cut through too many strands while trying to remove the insulation. I also developed my own technique with a v-notch wire stripper after a while, to be able to remove the insulation quickly without the inner strands. Just use solid core.</p>
<p><img src="7.jpg" alt=""></p>
<p>Next came the column wires. These were easier since they are shorter.</p>
<p><img src="8.jpg" alt=""></p>
<p>Close up of column wires. You can't tell from this picture, but the top-rightmost switch had a short. The wires were a little too taught so when I soldered the column wire the insulation between the two melted together and the wire cores touched. Just had to pull them away from each other and that was it. I ended up having 3 shorts total, all because of the same thing.</p>
<p><img src="9.jpg" alt=""></p>
<p>Final product! I had tried to &quot;bend&quot; the green row wires to make it look nicer and let me organize them together better but... didn't achieve the intended effect. Still like the way it turned out, especially for a first time build! Here you can see the speaker I've added too. This keyboard can make noise! Here's a video of it playing the Imperial March on startup: https://youtu.be/XQPiW4ZtcOY</p>
<p>I ended up setting it to play the Zelda Treasure chime on startup instead.</p>
<p>TL;DR of things I learned while attempting to add this audio feature:</p>
<ul>
<li>Pin C6 or B5 has to be unused and can't be shared with any keys</li>
<li>Setting B5 in the firmware never seemed to work for me, so I freed up C6 instead, soldered the speaker to that, and everything was good</li>
<li>Enabling audio ends up taking a fair chunk of memory; you may need to disable other QMK features or you might brick the controller (which I believe I actually did on another keyboard)</li>
<li>The novelty factor was worth it. My kid loves playing with it in music mode, and my coworkers have fun with it too.</li>
</ul>
<p>My custom layout can be found on my <a href="https://github.com/filoxo/keyboard-layouts">Keyboard Layouts repo</a>.</p>
<p><img src="10.jpg" alt=""></p>
<p>Top view of the keyboard with keycaps. The next steps will probably disassemble to to stain/treat the wood before using heavily, as well as add a strip of LEDs for some underglow.</p>

    </div>
    <footer class="space-y-12">
      <p>Tagged with:&nbsp;<a
            href="/tags/keyboards"
            class="border-b border-current text-red-500 no-underline transition-colors duration-300 ease-in-out visited:border-red-900 hover:text-red-600">keyboards</a>
      </p>
      <div class="flex flex-row-reverse justify-between">
        <a
          class="border-b border-current text-red-500 no-underline transition-colors duration-300 ease-in-out hover:text-red-600"
          href="/">&larr; Back to home</a>
      </div>
    </footer>
  </div>
</article></div>
  </div><hr class="mt-4 mb-2 mx-auto w-48 h-0.5 bg-red-600 rounded border-0"/>
<footer class="my-0 mx-auto flex max-w-2xl flex-wrap items-center justify-between py-6 px-3 md:px-6">
  <p>
    i use this space to jot down ideas and thoughts relating to my work as a software dev, hobbies, and life in general.
    thanks for reading ðŸ¤˜
    <a
      href="/about"
      class="border-b border-current text-red-500 no-underline transition-colors duration-300 ease-in-out hover:text-red-600">
      more about me
    </a>
  </p>
</footer></body></html>