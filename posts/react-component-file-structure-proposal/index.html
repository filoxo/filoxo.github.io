<!DOCTYPE html>
<html class="antialiased" lang="en">
  <head>



<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta http-equiv="X-UA-Compatible" content="ie=edge"/>
<title>React component file structure proposal - Filoblog</title>
<link rel="canonical" href="https://filoxo.github.io/posts/react-component-file-structure-proposal/"/>
<meta property="og:site_name" content="Filoblog"/>
<meta property="og:title" content="React component file structure proposal - Filoblog"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://filoxo.github.io/posts/react-component-file-structure-proposal/"/>


<link rel="icon" href="/favicon.svg" type="image/svg+xml"/>
<link rel="alternate icon" href="/favicon.ico" type="image/png" sizes="48x48"/>
<link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="192x192"/>
<link rel="mask-icon" href="/favicon.svg" color="#4a5568"/>
<meta name="theme-color" content="#4a5568"/>
<link rel="stylesheet" href="/styles/style.build.css" />
<link
  crossorigin="anonymous"
  rel="stylesheet"
  rel="preload"
  href="/styles/code.build.css"
  media="print"
  onload="this.media='all'; this.onload=null;"/>
<script type="module" src="/static/main.js" defer></script>
<!-- https://www.filamentgroup.com/lab/load-css-simpler/ -->
<svg style="display: none">
  <defs>
    <!-- Twitter icon -->
      <path id="icon-twitter" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452
        0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568
        130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3
        27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431
        13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365
        109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137
        23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122
        60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>

    <!-- GitHub icon -->
      <path id="icon-github" d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0
        31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9
        13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10
        27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3
        39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2
        0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4
        150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path>

    <!-- LinkedIn icon -->
      <path id="icon-linkedin" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5
        32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2
        96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9
        27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path>
  </defs>
</svg>
  </head>
  <body class="bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100 relative font-sourcecodepro">
    <div class="fixed z-[-1] inset-0 h-full min-h-screen w-full min-w-screen bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] dark:bg-[radial-gradient(#efefef22_1px,transparent_1px)] [background-size:16px_16px] pointer-events-none"></div><header class="mx-auto py-4 mb-8 max-w-2xl px-3 md:px-6">
  <nav class="my-0 mx-auto flex max-w-2xl flex-wrap items-center justify-between">
    <h1 class="text-2xl font-semibold tracking-wide">
      <a class="uppercase transition-colors duration-300 ease-in-out hover:text-red-600" href="/">
        Filoblog
      </a>
    </h1>
    
    <ul class="m-0 flex items-center">
      <li>
        <a
          href="https://twitter.com/cfiloteo12"
          rel="noopener noreferrer"
          target="_blank"
          class="inline-flex p-2 transition-colors duration-300 ease-in-out hover:text-red-600">
          <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
            <use href="#icon-twitter" />
          </svg>
          <span class="sr-only">Follow me as @cfiloteo12 on Twitter</span>
        </a>
      </li>
      <li>
        <a
          href="https://github.com/filoxo"
          class="inline-flex p-2 transition-colors duration-300 ease-in-out hover:text-red-600">
          <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 480 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
            <use href="#icon-github" />
          </svg>
          <span class="sr-only">I'm @filoxo on Github</span>
        </a>
      </li>
      <li>
        <a
          href="https://www.linkedin.com/in/carlosfiloteo/"
          class="inline-flex p-2 transition-colors duration-300 ease-in-out hover:text-red-600">
          <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
            <use href="#icon-linkedin" />
          </svg>
          <span class="sr-only">Let's connect on LinkedIn</span>
        </a>
      </li>
      <li>
        <div><label class="inline-flex relative items-center cursor-pointer mt-2 ml-2">
  <input type="checkbox" class="sr-only peer" aria-label="Toggle site theme" id="theme-toggle">
    <div class="w-9 h-5 bg-gray-800 rounded-full peer peer-focus:ring-4 peer-focus:ring-red-300 dark:peer-focus:ring-red-800
      dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute
      after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4
      after:transition-all dark:border-gray-600 peer-checked:bg-red-600"></div>
  </label></div>
      </li>
    </ul>
  </nav>
</header><div class="my-0 mx-auto max-w-2xl px-3 md:px-6">
      <div>
<article class="mb-12">
  <h1 class="mb-4 text-2xl text-red-600">React component file structure proposal</h1>
  <p class="mb-4 text-red-600">12 Aug 2022</p>
  <div class="space-y-6">
    <div class="prose prose-headings:text-2xl prose-headings:font-normal prose-a:text-red-500 prose-code:rounded-sm prose-code:bg-gray-200 prose-code:px-1 prose-code:text-black prose-img:rounded-xl dark:prose-invert">
      <p>This is an attempt at a proposal for organizing a React component file structure based on the needs and current patterns at JupiterOne.</p>
<p>I'm sharing this first on my blog to get some external feedback, but I also think its a good discussion point in general. For context, our tech stack uses the following: TypeScript, React, Jest, and Storybook. The idea is that this code will be generated as part of a code generator (such as <a href="https://yeoman.io/">yeoman</a>).</p>
<p>In the remainder of this document, <code>Foo</code> will be used to represent the user-supplied name.</p>
<p>The pattern has the following file structure and naming:</p>
<pre class="not-prose"><code class="language-sh"><span class="token punctuation">{</span>Foo<span class="token punctuation">}</span>/
â”œâ”€â”€index.tsx
â”œâ”€â”€use<span class="token punctuation">{</span>Foo<span class="token punctuation">}</span>Logic.ts
â”œâ”€â”€use<span class="token punctuation">{</span>Foo<span class="token punctuation">}</span>Logic.test.tsx
â”œâ”€â”€<span class="token punctuation">{</span>Foo<span class="token punctuation">}</span>Component.tsx
â””â”€â”€<span class="token punctuation">{</span>Foo<span class="token punctuation">}</span>Component.stories.tsx</code></pre>
<h2 id="reasoning"><a class="permalink" href="#reasoning" aria-hidden="true">ðŸ”—</a> Reasoning</h2>
<ul>
<li>index.tsx helps make importing simple, eg. <code>import { Foo } from './Foo'</code></li>
<li><em>'use{Foo}Logic'</em> encourages colocating business logic with its unit test (Jest)</li>
<li><em>'{Foo}Component'</em> encourages colocating UI-related code with its corresponding story (Storybook)</li>
<li>Generating a component as part of developer onboarding experience would be a great primer for how these should work and establish best practices</li>
</ul>
<h2 id="file-contents"><a class="permalink" href="#file-contents" aria-hidden="true">ðŸ”—</a> File contents</h2>
<p>To better illustrate the need for such a pattern, I've filled in the contents of the files below.</p>
<h3 id="index.tsx"><a class="permalink" href="#index.tsx" aria-hidden="true">ðŸ”—</a> index.tsx</h3>
<p>All this file does is export the hooked component, and creates a type for props.</p>
<pre class="not-prose"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> FooComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./FooComponent'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useFooLogic <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./useFooLogic'</span><span class="token punctuation">;</span>

<span class="token comment">// NOTE: having this into index.ts creates a circular dependency.</span>
<span class="token comment">// I'm unsure whether this is okay given that this is just a Type, which is not included in compiled code...</span>
<span class="token comment">// but makes for a better match for condensed file structure (see below). Alternatively this could be</span>
<span class="token comment">// colocated in use{Foo}Logic file.</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">FooProps</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> useFooLogic<span class="token operator">></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Foo <span class="token operator">=</span> <span class="token function">withHookHoc</span><span class="token punctuation">(</span>FooComponent<span class="token punctuation">,</span> useFooLogic<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="use%7Bfoo%7Dlogic.ts"><a class="permalink" href="#use%7Bfoo%7Dlogic.ts" aria-hidden="true">ðŸ”—</a> use{Foo}Logic.ts</h3>
<p>This file should only contain business logic. Its return value will be passed as props to the component. The extra &quot;Logic&quot; suffix can serve as a constant reminder, but may not actually be necessary as React hooks are intended to be thought of as containing component logic. TBD perhaps.</p>
<pre class="not-prose"><code class="language-ts"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useFooLogic</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="use%7Bfoo%7Dlogic.test.ts"><a class="permalink" href="#use%7Bfoo%7Dlogic.test.ts" aria-hidden="true">ðŸ”—</a> use{Foo}Logic.test.ts</h3>
<pre class="not-prose"><code class="language-ts"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> renderHook <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@testing-library/react-hooks'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useFooLogic <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./useFooLogic'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> FooProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span>useFooLogic<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> mockProps<span class="token operator">:</span> FooProps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">render</span> <span class="token operator">=</span> <span class="token punctuation">(</span>testProps<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>FooProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">renderHook</span><span class="token punctuation">(</span>useFooLogic<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      initialProps<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>mockProps<span class="token punctuation">,</span>
        <span class="token operator">...</span>testProps<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'returns valid default props'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> result <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TODO: have a better default test...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Additional ideas:</p>
<ul>
<li>optionally allow generating Apollo MockedProvider code &amp; wrapper</li>
<li>optionally allow generating react-router MemoryRouter code &amp; wrapper</li>
</ul>
<h3 id="%7Bfoo%7Dcomponent.tsx"><a class="permalink" href="#%7Bfoo%7Dcomponent.tsx" aria-hidden="true">ðŸ”—</a> {Foo}Component.tsx</h3>
<p>The extra &quot;Component&quot; suffix helps remind the developer that only the component code should be here, though it does look a bit awkward at first glance. Alternative ways to think about this is that this is &quot;headless component&quot; that contains next-to-no logic (though not always avoidable).</p>
<pre class="not-prose"><code class="language-tsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> withHookHoc <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@jupiterone/web-apps-core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> makeUseStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@jupiterone/web-juno'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> FooProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useStyles <span class="token operator">=</span> <span class="token function">makeUseStyles</span><span class="token punctuation">(</span><span class="token punctuation">(</span>theme<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">FooComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token operator">:</span> FooProps<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> styles <span class="token operator">=</span> <span class="token function">useStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="%7Bfoo%7Dcomponent.stories.tsx"><a class="permalink" href="#%7Bfoo%7Dcomponent.stories.tsx" aria-hidden="true">ðŸ”—</a> {Foo}Component.stories.tsx</h3>
<pre class="not-prose"><code class="language-tsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storybookTemplate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@jupiterone/web-apps-core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FooComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./FooComponent'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> FooProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>

<span class="token comment">// TODO: update storybookTemplate to accept typings</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> template<span class="token punctuation">,</span> meta <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">storybookTemplate</span><span class="token generic class-name"><span class="token operator">&lt;</span>FooProps<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token string">'Foo'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> FooComponent<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> meta<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> Default <span class="token operator">=</span> <span class="token function">template</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="extra-credit%3A-condensed-file-structure"><a class="permalink" href="#extra-credit%3A-condensed-file-structure" aria-hidden="true">ðŸ”—</a> Extra credit: condensed file structure</h2>
<p>If, say, you have a very simple component that doesn't need 5 files... just reduce it down to the one index file but retaining the file names for tests.</p>
<pre class="not-prose"><code class="language-sh"><span class="token punctuation">{</span>Foo<span class="token punctuation">}</span>/
â”œâ”€â”€index.tsx
â”œâ”€â”€use<span class="token punctuation">{</span>Foo<span class="token punctuation">}</span>Logic.test.tsx
â””â”€â”€<span class="token punctuation">{</span>Foo<span class="token punctuation">}</span>Component.stories.tsx</code></pre>
<h3 id="index.tsx-1"><a class="permalink" href="#index.tsx-1" aria-hidden="true">ðŸ”—</a> index.tsx</h3>
<pre class="not-prose"><code class="language-tsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> withHookHoc <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@jupiterone/web-apps-core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> makeUseStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@jupiterone/web-juno'</span><span class="token punctuation">;</span>

<span class="token comment">/* --- Logic --- */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useFooLogic</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">FooProps</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> useFooLogic<span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">/* --- Component --- */</span>
<span class="token keyword">const</span> useStyles <span class="token operator">=</span> <span class="token function">makeUseStyles</span><span class="token punctuation">(</span><span class="token punctuation">(</span>theme<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">FooComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token operator">:</span> FooProps<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> styles <span class="token operator">=</span> <span class="token function">useStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Foo <span class="token operator">=</span> <span class="token function">withHookHoc</span><span class="token punctuation">(</span>FooComponent<span class="token punctuation">,</span> useFooLogic<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="use%7Bfoo%7Dlogic.test.ts-1"><a class="permalink" href="#use%7Bfoo%7Dlogic.test.ts-1" aria-hidden="true">ðŸ”—</a> use{Foo}Logic.test.ts</h3>
<pre class="not-prose"><code class="language-ts"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> renderHook <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@testing-library/react-hooks'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useFooLogic <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> FooProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span>useFooLogic<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> mockProps<span class="token operator">:</span> FooProps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">render</span> <span class="token operator">=</span> <span class="token punctuation">(</span>testProps<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>FooProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">renderHook</span><span class="token punctuation">(</span>useFooLogic<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      initialProps<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>mockProps<span class="token punctuation">,</span>
        <span class="token operator">...</span>testProps<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'returns valid default props'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> result <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="%7Bfoo%7Dcomponent.stories.tsx-1"><a class="permalink" href="#%7Bfoo%7Dcomponent.stories.tsx-1" aria-hidden="true">ðŸ”—</a> {Foo}Component.stories.tsx</h3>
<pre class="not-prose"><code class="language-tsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storybookTemplate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@jupiterone/web-apps-core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FooComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> FooProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>

<span class="token comment">// TODO: update storybookTemplate to accept typings</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> template<span class="token punctuation">,</span> meta <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">storybookTemplate</span><span class="token generic class-name"><span class="token operator">&lt;</span>FooProps<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token string">'Foo'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> FooComponent<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> meta<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> Default <span class="token operator">=</span> <span class="token function">template</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>What do you think? Would you use a codebase structured like this?</p>

    </div>
    <footer class="space-y-12">
      <p>Tagged with:&nbsp;<a
            href="/tags/react"
            class="border-b border-current text-red-500 no-underline transition-colors duration-300 ease-in-out visited:border-red-900 hover:text-red-600">react</a>
      ,&nbsp;<a
            href="/tags/typescript"
            class="border-b border-current text-red-500 no-underline transition-colors duration-300 ease-in-out visited:border-red-900 hover:text-red-600">typescript</a>
      ,&nbsp;<a
            href="/tags/testing"
            class="border-b border-current text-red-500 no-underline transition-colors duration-300 ease-in-out visited:border-red-900 hover:text-red-600">testing</a>
      </p>
      <div class="flex flex-row-reverse justify-between">
        <a
          class="border-b border-current text-red-500 no-underline transition-colors duration-300 ease-in-out hover:text-red-600"
          href="/">&larr; Back to home</a>
      </div>
    </footer>
  </div>
</article>
</div>
    </div><hr class="mt-4 mb-2 mx-auto w-48 h-0.5 bg-red-600 rounded border-0"/>
<footer class="my-0 mx-auto max-w-2xl py-6 px-3 md:px-6">
  <p class="text-center">
    thanks for reading ðŸ¤˜
  </p>
  <p class="text-center">
    <a
      href="/about"
      class="text-center border-b border-current text-red-500 no-underline transition-colors duration-300 ease-in-out hover:text-red-600">
      about me
    </a>
  </p>
</footer>
  </body>
</html>