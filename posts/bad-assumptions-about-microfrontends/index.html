<!DOCTYPE html>
<html class="antialiased" lang="en">
  <head>



<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta http-equiv="X-UA-Compatible" content="ie=edge"/>
<title>Bad Assumptions about Microfrontends - Filoblog</title>
<link rel="canonical" href="https://filoxo.github.io/posts/bad-assumptions-about-microfrontends/"/>
<meta property="og:site_name" content="Filoblog"/>
<meta property="og:title" content="Bad Assumptions about Microfrontends - Filoblog"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://filoxo.github.io/posts/bad-assumptions-about-microfrontends/"/>


<link rel="icon" href="/favicon.svg" type="image/svg+xml"/>
<link rel="alternate icon" href="/favicon.ico" type="image/png" sizes="48x48"/>
<link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="192x192"/>
<link rel="mask-icon" href="/favicon.svg" color="#4a5568"/>
<meta name="theme-color" content="#4a5568"/>
<link crossorigin="anonymous" rel="stylesheet" href="/styles/style.css"/>
<link
  crossorigin="anonymous"
  rel="stylesheet"
  rel="preload"
  href="/styles/code.css"
  media="print"
  onload="this.media='all'; this.onload=null;"/>
<script type="module" src="/static/main.js" defer></script>
<!-- https://www.filamentgroup.com/lab/load-css-simpler/ --></head>
  <body class="bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100"><header class="mx-auto mt-2 mb-8 max-w-2xl px-3 md:px-6">
  <nav class="my-0 mx-auto flex max-w-2xl flex-wrap items-center justify-between">
    <h1 class="text-2xl font-semibold tracking-wide">
      <a class="uppercase transition-colors duration-300 ease-in-out hover:text-red-600" href="/">
        Filoblog
      </a>
    </h1>
    
    <ul class="m-0 flex items-center">
      <li>
        <a
          href="https://twitter.com/cfiloteo12"
          rel="noopener noreferrer"
          target="_blank"
          class="inline-flex p-2 transition-colors duration-300 ease-in-out hover:text-red-600">
          <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
            <path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452
              0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568
              130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3
              27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431
              13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365
              109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137
              23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122
              60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
          </svg>
          <span class="sr-only">Follow me as @cfiloteo12 on Twitter</span>
        </a>
      </li>
      <li>
        <a
          href="https://github.com/filoxo"
          class="inline-flex p-2 transition-colors duration-300 ease-in-out hover:text-red-600">
          <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 480 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
            <path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0
              31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9
              13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10
              27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3
              39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2
              0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4
              150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path>
          </svg>
          <span class="sr-only">I'm @filoxo on Github</span>
        </a>
      </li>
      <li>
        <a
          href="https://www.linkedin.com/in/carlosfiloteo/"
          class="inline-flex p-2 transition-colors duration-300 ease-in-out hover:text-red-600">
          <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
            <path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5
              32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2
              96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9
              27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path>
          </svg>
          <span class="sr-only">Let's connect on LinkedIn</span>
        </a>
      </li>
      <li>
        <div><label class="inline-flex relative items-center cursor-pointer mt-2 ml-2">
  <input type="checkbox" class="sr-only peer" aria-label="Toggle site theme" id="theme-toggle">
    <div class="w-9 h-5 bg-gray-800 rounded-full peer peer-focus:ring-4 peer-focus:ring-red-300 dark:peer-focus:ring-red-800
      dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute
      after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4
      after:transition-all dark:border-gray-600 peer-checked:bg-red-600"></div>
  </label></div>
      </li>
    </ul>
  </nav>
</header><div class="my-0 mx-auto max-w-2xl px-3 md:px-6">
      <div><article class="mb-12">
  <h1 class="mb-4 text-2xl text-red-600">Bad Assumptions about Microfrontends</h1>
  <p class="mb-4 text-red-600">9 Aug 2019</p>
  <div class="space-y-6">
    <div class="prose prose-headings:text-2xl prose-headings:font-normal prose-a:text-red-500 prose-code:rounded-sm prose-code:bg-gray-200 prose-code:px-1 prose-code:text-black prose-img:rounded-xl dark:prose-invert">
      <p>There've been some surprisingly incorrect assumptions being made about &quot;microfrontends&quot; since it became a buzzword. Microservices in the browser (I prefer this term over microfrontends) are a totally new paradigm but these bad takes seem to have quite a bit of reach. I'll tackle some of these in this post.</p>
<h2 id="multiple-frameworks"><a class="permalink" href="#multiple-frameworks" aria-hidden="true">🔗</a> Multiple frameworks</h2>
<blockquote>
<p>The idea really is that you might build a React app and I build a Vue app and we'll slap 'em together on the same page. I definitely come from an era where we laughed-then-winced when we found sites that used multiple versions of jQuery on the same page... We winced because that was a bucket full of JavaScript, mostly duplicated for no reason, causing bugs and slowing down the page. This doesn't seem all that much different.</p>
<p><em>Chris Coyier, https://css-tricks.com/micro-frontends/</em></p>
</blockquote>
<p>This is actually a <strong>huge</strong> mischaracterization. Think about this for backend services. Each app or service is independent so they <em>can</em> use a different framework or language. One service <em>can be</em> Ruby+Rails and another use Elixir+Phoenix. But in practice most companies should and will avoid this, it doesn't make sense to use any and every language or framework! No different here. Standardizing on few languages/frameworks makes total sense.</p>
<blockquote>
<p>Your [developers] were so preoccupied with whether or not they could, they didn’t stop to think if they should.</p>
</blockquote>
<p>Just because it <em>can be done</em>, does not mean it <em>should or needs</em> to be done. Most if not all of your apps should use a common set of frameworks and libraries. But realize that this possibility of using a different framework without high development costs and effort actually unlocks benefits, such as easy migration and experimentation. I find that to be super cool! Let me paint those scenarios.</p>
<h3 id="migrate"><a class="permalink" href="#migrate" aria-hidden="true">🔗</a> Migrate</h3>
<p>At some point in every company's life, there comes a point where the decision to use Technology X that was made Y number of years ago no longer holds up. The maintainers do not see an easy way to move off of it, they're stuck. Being able to break free of and avoid <a href="https://en.wikipedia.org/wiki/Vendor_lock-in#Technology_lock-in">technological lock-in</a> is yet another <strong>major benefit</strong> of microservices in the browser. Using a front-end microservices architecture, you can begin migrating parts of the application to newer technologies and frameworks as each team or product is ready and able (the performance implications will be discussed below).</p>
<h3 id="experimentation"><a class="permalink" href="#experimentation" aria-hidden="true">🔗</a> Experimentation</h3>
<p>Maybe Technology X is not quite that old, but your developers see new trends on the horizon and want to get ahead of the curve. Or maybe a webapp has grown bloated and is a performance bottleneck and you would like to try out a newer, faster framework (something like <a href="https://github.com/sveltejs/svelte">Svelte</a> maybe). This sort of experimentation could allow products, user experiences, and DX to improve as technologies evolve and advance. These upgrades shouldn't require months and years!</p>
<h2 id="multiple-react-roots"><a class="permalink" href="#multiple-react-roots" aria-hidden="true">🔗</a> Multiple React roots</h2>
<blockquote class="twitter-tweet" data-conversation="none" data-lang="en">
  <p lang="und" dir="ltr">
    <a
      href="https://t.co/4VCG8cFxjc"
      aria-label="Meme: Multiple React roots on the page. Is this microfrontends?"
    >
      pic.twitter.com/4VCG8cFxjc
    </a>
  </p>
  &mdash; Dan Abramov (@dan_abramov) <a href="https://twitter.com/dan_abramov/status/1139157092420505600?ref_src=twsrc%5Etfw">June 13, 2019</a>
</blockquote>
<p>The answer to Dan's question here is <strong>yes</strong>. This can be considered &quot;microfrontends&quot; as each root can be owned by a single team. Though Dan later points out that this all is still part of the same CD pipeline and so each team is at the mercy of that process. Significant effort and investment would need to be spent to optimize this build system. But like backend microservices, microservices in the browser can enable <strong>independent deployments</strong> for front-end applications. Each team can have control over this, scaling to however fast or slow that needs to be for them. I don't think you could achieve that with multiple React roots.</p>
<h2 id="50mb-of-javascript"><a class="permalink" href="#50mb-of-javascript" aria-hidden="true">🔗</a> 50MB of JavaScript</h2>
<blockquote class="twitter-tweet" data-lang="en">
  <p lang="en" dir="ltr">
    Someone let me perf. profile a site using &quot;microfrontends&quot;. <br />
    <br />
    Memebait related:{' '}
    <a
      href="https://t.co/LMldrx14Ui"
      aria-label="Meme: 50 MB of JavaScript. Is this microfrontends?"
    >
      pic.twitter.com/LMldrx14Ui
    </a>
  </p>
  &mdash; Sean Larkin (廖肖恩) (@TheLarkInn) <a href="https://twitter.com/TheLarkInn/status/1139281821810618369?ref_src=twsrc%5Etfw">June 13, 2019</a>
</blockquote>
<p>I have to ask: <em>is application bloat a unique characteristic of microfrontends?</em> I know of many frontend applications that are extremely heavy that are <em>not microfrontends</em>, which is mostly due to misconfiguration of tooling or extra package code. So is this criticism that implicitly claims that microservices are bloated by default, valid?</p>
<p>The underlying assumption here is that microfrontends disregard performance in favor of DX. Additionally, it's true that 2 is greater than 1; shipping multiple framework runtimes without prudence and care is going to be bad. But I'd argue though that that bad performance comes down to implementation, not architecture.</p>
<p>There are many solutions to the perf problem; none of them impossible with microservices in the browser. One interesting option is to leverage native ES modules (current spec) along with <a href="https://github.com/WICG/import-maps">import maps</a> (proposed spec). This enables your JavaScript imports to be cleanly resolved <em>in the browser</em>. No longer bundle libraries into your build, load them once and cache in the browser. Share these dependencies across all of your apps. Performance does not have to be sacrificed for microfrontends' sake.</p>
<aside>
  If these features appeal to you and your organization, check out{' '}
  <a href="https://single-spa.js.org/">Single-spa</a> and it's{' '}
  <a href="https://single-spa.js.org/docs/faq.html#is-there-a-recommended-setup">
    recommended setup
  </a>{' '}
  that leverages the aforementioned import-maps.{' '}
  <small style="margin-bottom: 0;">
    Disclaimer: I'm a contributor to Single-spa.
  </small>
</aside>
<h1 id="give-it-a-little-bit-of-time%2C-and-maybe-a-try"><a class="permalink" href="#give-it-a-little-bit-of-time%2C-and-maybe-a-try" aria-hidden="true">🔗</a> Give it a little bit of time, and maybe a try</h1>
<blockquote class="twitter-tweet">
  <p lang="en" dir="ltr">
    Back end devs: Front end isn&#39;t real engineering.
    <br />
    <br />
    Front end devs: *Bring engineering principles to front end*
    <br />
    <br />
    Back end devs: Front end is too complicated.
  </p>
  &mdash; Mark Dalgleish (@markdalgleish) <a href="https://twitter.com/markdalgleish/status/1150488911744917505?ref_src=twsrc%5Etfw">
    July 14, 2019
  </a>
</blockquote>
<p>Give an emerging pattern like microservices in the browser a chance. Don't buck against it just because it isn't the way you've done things, and let go of your bad assumptions.</p>

    </div>
    <footer class="space-y-12">
      <p>Tagged with:&nbsp;<a
            href="/tags/javascript"
            class="border-b border-current text-red-500 no-underline transition-colors duration-300 ease-in-out visited:border-red-900 hover:text-red-600">javascript</a>
      </p>
      <div class="flex flex-row-reverse justify-between">
        <a
          class="border-b border-current text-red-500 no-underline transition-colors duration-300 ease-in-out hover:text-red-600"
          href="/">&larr; Back to home</a>
      </div>
    </footer>
  </div>
</article></div>
    </div><hr class="mt-4 mb-2 mx-auto w-48 h-0.5 bg-red-600 rounded border-0"/>
<footer class="my-0 mx-auto flex max-w-2xl flex-wrap items-center justify-between py-6 px-3 md:px-6">
  <p>
    i use this space to jot down ideas and thoughts relating to my work as a software dev, hobbies, and life in general.
    thanks for reading 🤘
    <a
      href="/about"
      class="border-b border-current text-red-500 no-underline transition-colors duration-300 ease-in-out hover:text-red-600">
      more about me
    </a>
  </p>
</footer>
  </body>
</html>